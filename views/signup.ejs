
<div class="container">
  <form onsubmit="return checkPasswords()" action="/auth/signup" method="POST">
    <h1>Register</h1>
    <p>Please fill in this form to create an account.</p>
    <hr>

    <label for="name"><b>Name</b></label>
    <input type="text" placeholder="Enter Name" name="name" required />

    <label for="email"><b>Email</b></label>
    <input type="text" placeholder="Enter Email" name="email" required />

    <label for="psw"><b>Password (at least 3 characters)</b></label>
    <input id="pw1" type="password" placeholder="Enter Password" name="password" required />
    <div id="pwstrength" style="height: 20px; background-color: grey;">
      PASSWORD STRENGTH
    </div>

    <label for="psw-repeat"><b>Repeat Password</b></label>
    <input id="pw2" type="password" placeholder="Repeat Password" name="psw-repeat" required />
    <p id="pwmessage" style="display: none; color: red;">Passwords do not match.</p>
    <hr>
    <p>By creating an account you agree to our <a href="/about">Terms & Privacy</a>.</p>

    <input type="submit" class="registerbtn" value="Register" />
  </form>
</div>

<script>
  pwInput1 = document.getElementById('pw1');
  pwInput2 = document.getElementById('pw2');
  pwMessage = document.getElementById('pwmessage');
  pwStrength = document.getElementById('pwstrength');

  function checkPasswords() {
    if(pwInput1.value !== pwInput2.value || pwInput1.value.length < 3) alert('passwords do not match or less than 3 characters');
    return pwInput1.value === pwInput2.value && pwInput1.value.length >= 3;
  }
  pw2.onkeyup = function() {
    if(pwInput1.value === pwInput2.value) {
      pwMessage.style.display = 'none';
    } else {
      pwMessage.style.display = 'block';
    }
  }
  pwInput1.onkeyup = function() {
    if(pwInput1.value === pwInput2.value) {
      pwMessage.style.display = 'none';
    } else {
      pwMessage.style.display = 'block';
    }
    if(pwInput1.value.length < 5) {
      pwStrength.style.backgroundColor = 'red';
    } else if(pwInput1.value.length >= 5 && pwInput1.value.length < 10) {
      pwStrength.style.backgroundColor = 'orange';
    } else {
      pwStrength.style.backgroundColor = 'green';
    }
  }
</script>